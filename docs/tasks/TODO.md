# TODO - Casto開発タスク

## 🔄 進行中

（現在進行中のタスクなし）

## ✅ 完了

### セッション管理の改善（2025-10-05完了）
- **問題**: 長時間放置後に401エラーと無限ループが発生
- **原因**: JWTクッキーが24時間で期限切れ、セッション延長機能なし
- **解決策**:
  - ✅ `/api/v1/auth/session`でクッキー自動延長機能を実装
  - ✅ `AuthProvider`に20分ごとの定期セッションリフレッシュを追加
  - ✅ LINEトークンリフレッシュ時にJWTクッキーも更新
- **効果**: アクティブユーザーのセッションが自動的に延長され、無限ループを防止

### LIFFページのクリーンアップ（2025-10-05完了）
- **目的**: `apps/web/src/app/liff/page.tsx`をシンプル化
- **結果**: **350行→121行に削減成功**（65%削減）
- **作業内容**:
  - ✅ デバッグパネルUIを削除（本番環境では不要）
  - ✅ メインページをクリーンなビジネスロジックのみに整理
  - ✅ 開発時のデバッグ機能は`useLiffAuth`フック内部に保持

### LINE認証（LIFF）実装
- LINEミニアプリ認証フロー実装完了
- プロフィール完成度表示機能実装

### CI/CDパイプライン
- GitHub ActionsでNode.js v20対応完了
- Wrangler 4.x系デプロイ環境構築完了

## 📋 今後の予定

### オーディション機能
- オーディション一覧表示
- オーディション詳細ページ
- 応募機能

### プロフィール機能拡張
- タレントプロフィール詳細編集
- メディアアップロード機能

---

**最終更新**: 2025-10-05