# casto: 意思決定ログ（ADR）

形式: YYYY-MM-DD: タイトル — 背景 / 選択肢 / 決定 / 影響

## 2025-09-30: docsディレクトリ整理方針
- 背景: メモや未来の話が混在し、確定情報が不明瞭
- 決定: 
  - FIX済み・確定した事実のみを記載
  - 未来の話、予定、目標数値は記載しない
  - QUESTIONS.md（未確定事項）とROADMAP.md（予定）を削除
  - SYSTEM_GUIDE.md（重複情報）を削除
  - 実装状況などの一時的な情報を削除
- 影響: ドキュメントの信頼性向上、メンテナンス負荷軽減

## 2025-09-22: ドキュメント運用方針
- 背景: 仕様をコード化する前に合意形成を行うため
- 選択肢: ad-hocメモ / Google Docs / リポジトリ内MD
- 決定: リポジトリ内 `services/casto/docs/` にMDで管理しPRレビュー
- 影響: 変更履歴が残る。関係者レビューが容易

## 2025-09-XX: Wrangler 4.x系へのアップグレード
- 背景: Wrangler 3.x系から4.x系へのアップグレード時に認証エラー発生
- 問題:
  - Node.js v18使用（Wrangler 4.x系はv20以上が必要）
  - API Token形式エラー（code: 6111）
- 決定:
  - 全GitHub ActionsワークフローをNode.js v20に統一
  - Cloudflare API Tokenの設定確認（改行・引用符の除去）
- 影響: CI/CDが安定稼働、デプロイエラー解消
